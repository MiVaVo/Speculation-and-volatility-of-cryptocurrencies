###################### CREATE RETURN SERIES ############
series_to_analyze=unlist(df_new['close'])
# periodReturn()
diff(series_to_analyze)
R=diff(series_to_analyze)/series_to_analyze[-length(series_to_analyze)]
df_new$V=V
df_new$R=c(0,R)
df_new=df_new[seq(300,dim(df_new)[[1]],1),c('R','V','date')]
df_new$date=as.Date(df_new$date,format='%Y-%m-%d')
df_new$mixed_variable=df_new$R*df_new$V
# V=V[seq(300,length(V),1)]
# tsdisplay(df_new$mixed_variable)
# mixed_variable=R*V
# length(V)
# length(mixed_variable)
df_new$date
df_new$date=as.POSIXct(df_new$date)
# df_new=as.matrix(df_new)
qxts <- xts(df_new[,-3], order.by=as.POSIXct(df_new$date))
# model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(1, 0),
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1
qxts$R
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit
# model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model = list(armaOrder = c01, 0),
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(0, 0),
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit
library(forecast)
library(quantmod)
# install.packages('forecast')
# install.packages('rugarch')
# install.packages('timeSeries')
# install.packages('tseries')
library(timeSeries)
library(xts)
library(tseries)
library(rugarch)
df=read.csv('all-crypto-currencies/crypto-markets.csv')
unique(df[,'name'])
df_new=df[c('name','date','open','high','low','close','volume','market')]
df_new=df_new[df_new[,'name']=='Bitcoin',]
logturnover=log(df_new['volume']+0.00000255)
counts=0
trend_lasts=50
V=c()
for (i in seq(1,dim(logturnover)[1],1)){
if (i<trend_lasts){
V<-c(V,0)
next
}
V<-c(V,logturnover[i,'volume']-mean(logturnover[seq(i-trend_lasts,i-1,1),'volume']))
}
counts=trend_lasts
logturnover[seq(counts-trend_lasts,counts-1,1),'volume']
# par(mar=c(1,1,1,1))
# tsdisplay(V[seq(0,length(V),1)])
###################### CREATE RETURN SERIES ############
series_to_analyze=unlist(df_new['close'])
# periodReturn()
diff(series_to_analyze)
R=diff(series_to_analyze)/series_to_analyze[-length(series_to_analyze)]
df_new$V=V
df_new$R=c(0,R)
df_new=df_new[seq(300,dim(df_new)[[1]],1),c('R','V','date')]
df_new$date=as.Date(df_new$date,format='%Y-%m-%d')
df_new$mixed_variable=df_new$R*df_new$V
df_new$mixed_variable
# V=V[seq(300,length(V),1)]
# tsdisplay(df_new$mixed_variable)
# mixed_variable=R*V
# length(V)
# length(mixed_variable)
df_new$date
df_new$date=as.POSIXct(df_new$date)
# df_new=as.matrix(df_new)
qxts <- xts(df_new[,-3], order.by=as.POSIXct(df_new$date))
# model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(0, 0),
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
# install.packages('forecast')
# install.packages('rugarch')
# install.packages('timeSeries')
# install.packages('tseries')
library(timeSeries)
library(forecast)
library(forecast)
# install.packages('forecast')
# install.packages('rugarch')
# install.packages('timeSeries')
install.packages('tseries')
library(tseries)
library(forecast)
library(quantmod)
# install.packages('forecast')
# install.packages('rugarch')
# install.packages('timeSeries')
# install.packages('tseries')
library(timeSeries)
library(tseries)
library(xts)
library(rugarch)
df=read.csv('all-crypto-currencies/crypto-markets.csv')
unique(df[,'name'])
df_new=df[c('name','date','open','high','low','close','volume','market')]
df_new=df_new[df_new[,'name']=='Bitcoin',]
logturnover=log(df_new['volume']+0.00000255)
counts=0
trend_lasts=50
V=c()
for (i in seq(1,dim(logturnover)[1],1)){
if (i<trend_lasts){
V<-c(V,0)
next
}
V<-c(V,logturnover[i,'volume']-mean(logturnover[seq(i-trend_lasts,i-1,1),'volume']))
}
counts=trend_lasts
logturnover[seq(counts-trend_lasts,counts-1,1),'volume']
###################### CREATE RETURN SERIES ############
series_to_analyze=unlist(df_new['close'])
# periodReturn()
diff(series_to_analyze)
R=diff(series_to_analyze)/series_to_analyze[-length(series_to_analyze)]
df_new$V=V
df_new$R=c(0,R)
df_new=df_new[seq(300,dim(df_new)[[1]],1),c('R','V','date')]
df_new$date=as.Date(df_new$date,format='%Y-%m-%d')
df_new$mixed_variable=df_new$R*df_new$V
# V=V[seq(300,length(V),1)]
# tsdisplay(df_new$mixed_variable)
# mixed_variable=R*V
# length(V)
# length(mixed_variable)
df_new$date
df_new$date=as.POSIXct(df_new$date)
# df_new=as.matrix(df_new)
qxts <- xts(df_new[,-3], order.by=as.POSIXct(df_new$date))
model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
model
df_new$R
plot(df_new$R)
tsdisplay(df_new$R)
windows()
tsdisplay(df_new$R)
tsdisplay(df_new$mixed_variable)
windows()
tsdisplay(df_new$mixed_variable)
tsdisplay(df_new$R)
windows()
tsdisplay(df_new$R)
windows()
tsdisplay(df_new$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(1, 0),
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(1, 0),arfima =TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(1, 0),
arfima =TRUE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(1, 0),
arfima =TRUE,include.mean = FALSE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(1, 1),
arfima =TRUE,include.mean = FALSE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(2, 2)),
mean.model  = list(armaOrder = c(1, 0),
arfima =TRUE,include.mean = FALSE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(2, 2)),
mean.model  = list(armaOrder = c(0, 0),
arfima =TRUE,include.mean = FALSE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(
variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(1, 1), include.mean = TRUE),
distribution.model = "norm",external.regressors = qxts$mixed_variable)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(2, 2)),
mean.model  = list(armaOrder = c(1, 0),
arfima =TRUE,include.mean = FALSE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
model
model$model$P
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(2, 2)),
mean.model  = list(armaOrder = c(1, 0),
arfima =TRUE,include.mean = FALSE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='norm' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(2, 2)),
mean.model  = list(armaOrder = c(1, 0),
arfima =TRUE,include.mean = FALSE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(2, 2)),
mean.model  = list(armaOrder = c(1, 0),
arfima =TRUE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(2, 2)),
mean.model  = list(armaOrder = c(1, 1),
arfima =TRUE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
model = auto.arima(df_new$R,xreg = df_new$mixed_variable,start.p = 1,start.q=1)
model
model = auto.arima(df_new$R,xreg = df_new$mixed_variable,start.p = 1,start.Q=1)
model
model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
model
summary(model)
model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(1, 0),
arfima =TRUE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(0, 0),
arfima =TRUE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(0, 0),
arfima =FALSE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit
fit <- Arima(R, order = c(1,0,0), xreg = mixed_variable)
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(0, 0),
arfima =FALSE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit
g1fit@fit$solver$hess
g1fit@fit$kappa
g1fit@fit$condH
g1fit@fit$LLH
g1fit@fit$log.likelihoods
g1fit@fit$scores
g1fit['mu']
g1fit@fit['mu']
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit
g1fit@model$modelinc
g1fit@fit$convergence
g1fit@fit$solver$hess
g1fit@fit$fitted.values
qxts$R
g1fit@fit$var
window()
tsdisplay(g1fit@fit$var)
g1fit@fit$var
g1fit@fit$sigma
g1fit@fit$sigma
ugarchforecast(qxts$R,n.ahead = 100)
ugarchforecast(g1fit,n.ahead = 100)
tsdisplay(ugarchforecast(g1fit,n.ahead = 100))
window()
tsdisplay(g1fit@fit$var)
tsdisplay(ugarchforecast(g1fit,n.ahead = 100))
window()
windows()
windows()
tsdisplay(g1fit@fit$var)
tsdisplay(ugarchforecast(g1fit,n.ahead = 100))
windows()
windows()
tsdisplay(g1fit@fit$var)
tsdisplay(ugarchforecast(g1fit,n.ahead = 100))
windows()
tsdisplay(ugarchforecast(g1fit,n.ahead = 100))
dev.off()
dev.off()
dev.off()
str(g1fit)
windows()
tsdisplay(ugarchforecast(g1fit,n.ahead = 100))
ugarchforecast(g1fit,n.ahead = 100)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(0, 1),
arfima =FALSE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(0, 0),
arfima =FALSE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit@fit$sigma
windows()
tsdisplay(g1fit@fit$var)
g1fit@fit$var
g1fit@fit
g1fit@fit$sigma
windows()
tsdisplay(g1fit@fit$sigma)
plot(g1fit@fit$sigma)
dev.off()
windows()
plot(g1fit@fit$sigma)
plot(g1fit@fit$var)
plot(g1fit@fit$var)
plot(g1fit@fit$sigma)
plot(g1fit@fit$sigma,type="n")
dev.off()
windows()
plot(g1fit@fit$sigma,type="n")
plot(g1fit@fit$var)
windows()
tsdisplay(g1fit@fit$var)
windows()
tsdisplay(g1fit@fit$sigma)
windows()
tsdisplay(g1fit@fit$var)
cor(g1fit@fit$sigma,g1fit@fit$var)
g1fit
library(forecast)
library(quantmod)
# install.packages('forecast')
# install.packages('rugarch')
# install.packages('timeSeries')
# install.packages('tseries')
library(timeSeries)
library(tseries)
library(xts)
library(rugarch)
df=read.csv('all-crypto-currencies/crypto-markets.csv')
unique(df[,'name'])
df_new=df[c('name','date','open','high','low','close','volume','market')]
df_new=df_new[df_new[,'name']=='Bitcoin',]
logturnover=log(df_new['volume']+0.00000255)
counts=0
trend_lasts=50
V=c()
for (i in seq(1,dim(logturnover)[1],1)){
if (i<trend_lasts){
V<-c(V,0)
next
}
V<-c(V,logturnover[i,'volume']-mean(logturnover[seq(i-trend_lasts,i-1,1),'volume']))
}
counts=trend_lasts
logturnover[seq(counts-trend_lasts,counts-1,1),'volume']
# par(mar=c(1,1,1,1))
# tsdisplay(V[seq(0,length(V),1)])
###################### CREATE RETURN SERIES ############
series_to_analyze=unlist(df_new['close'])
# periodReturn()
diff(series_to_analyze)
R=diff(series_to_analyze)/series_to_analyze[-length(series_to_analyze)]
df_new$V=V
df_new$R=c(0,R)
df_new=df_new[seq(300,dim(df_new)[[1]]-300,1),c('R','V','date')]
df_new$date=as.Date(df_new$date,format='%Y-%m-%d')
df_new$mixed_variable=df_new$R*df_new$V
df_new$date=as.POSIXct(df_new$date)
# df_new=as.matrix(df_new)
qxts <- xts(df_new[,-3], order.by=as.POSIXct(df_new$date))
windows()
tsdisplay(df_new$R)
model = auto.arima(df_new$R,xreg = df_new$mixed_variable)
# model$coef
# model = auto.arima(R,xreg = data.frame(mixed_variable))
g1=ugarchspec(variance.model = list(model = "sGARCH", garchOrder = c(1, 1)),
mean.model  = list(armaOrder = c(0, 0),
arfima =FALSE,include.mean = TRUE,
external.regressors = qxts$mixed_variable,
archex = FALSE),distribution.model ='std' )
# df=data.frame(mixed_variable,R)
# colnames(df)=c('R','mv')
g1fit=ugarchfit(g1,data=qxts$R)
g1fit
arima(df_new$R,order=c(1,0,0),xreg=df_new$mixed_variable,include.mean = TRUE)
